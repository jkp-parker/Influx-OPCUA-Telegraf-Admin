# Telegraf Configuration — FluxForge Sample Stack
#
# This is a placeholder configuration for the sample stack.
# Use the Admin Portal to generate a full telegraf.conf with your
# OPC UA device nodes, scan classes, and InfluxDB targets.
#
# After generating your config from the portal, replace this file
# and restart Telegraf:
#   docker compose restart telegraf

[agent]
  interval = "10s"
  round_interval = true
  metric_batch_size = 1000
  metric_buffer_limit = 10000
  collection_jitter = "0s"
  flush_interval = "10s"
  flush_jitter = "0s"
  precision = ""
  hostname = ""
  omit_hostname = false

# ── InfluxDB v2 Output ──────────────────────────────────────────────────────
#  InfluxDB 3 Core accepts writes via the v2-compatible write API on port 8181.
[[outputs.influxdb_v2]]
  urls = ["http://influxdb:8181"]
  token = "apiv3_opcua-demo-admin-token-local-dev-only-00000000"
  bucket = "opcua"

# ── OPC UA Input ─────────────────────────────────────────────────────────────
#  Add your OPC UA device configuration here, or generate it from the
#  Admin Portal at http://localhost:9077.
#
#  Example:
#
#  [[inputs.opcua]]
#    name = "my_device"
#    endpoint = "opc.tcp://your-device:4840"
#    connect_timeout = "10s"
#    request_timeout = "5s"
#    connect_fail_behavior = "ignore"
#    interval = "1s"
#
#    [[inputs.opcua.nodes]]
#      name = "Temperature"
#      namespace = "2"
#      identifier_type = "s"
#      identifier = "Temperature"
